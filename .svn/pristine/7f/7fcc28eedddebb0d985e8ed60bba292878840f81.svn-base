<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ include file="../../base.jsp"%>
<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>卡信息管理</title>
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath()%>/css/main.css">
</head>
<body>
        <!--表格查询-->
        <form id="queryForm" method="post">
        <div class="tableFind" id="tableFind" data-options="region:'north',border:false" style="height:95px;">
            <p>
                <label>关键字:</label>
                                     <input  name="keywords" id="keywordsQuery" placeholder="接入号、IMSI、ICCID" type="text" class="easyui-textbox"/>
	            <label>支付类型:</label>
	                                 <select name="paymentType" id="paymentTypeQuery"  editable="false" class="easyui-combobox"></select>
	            <label>运营商:</label>
	                                 <select  name="operator" id="operatorQuery"  editable="false" class="easyui-combobox"></select>
	           
            </p>
            <p class="findButAlign">
                 <a id="a2" href="javascript:" class="easyui-linkbutton tableFindBut" data-options="iconCls:'icon-search'" onclick="obj.find()">查询</a>
			     <a id="a3" href="javascript:" class="easyui-linkbutton tableFindBut" data-options="iconCls:'icon-redo'" onclick="obj.queryRes()">重置</a>
			     <a id="a1" href="javascript:" class="easyui-linkbutton tableFindBut" data-options="iconCls:'icon-collapse'" onclick="obj.collapse()">&nbsp;</a>
            </p>
            
            <div id="queryMore">
	            <p>
		            <label>客户名称:</label>
		                                    <input type="text" class="easyui-textbox"/>
		            <label>套餐类型;</label>
		                                    <select  name="comboType" id="comboTypeQuery" editable="false" class="easyui-combobox"></select>
			        <label>套餐名称;</label>
			                                <select  name="comboName" id="comboNameQuery" editable="false" class="easyui-combobox"></select>
	            </p>
	            <p>
	                <label>实际套餐名称:</label>
		                                 <select  name="realComboType" id="realComboTypeQuery" editable="false" class="easyui-combobox"></select>
		            <label>卡状态:</label>
		                                 <select  name="workingCondition" id="workingConditionQuery"  editable="false" class="easyui-combobox"></select>
		            <label>在线状态;</label>
                                         <select id="billingStatusQuery" editable="false" class="easyui-combobox"></select>
	            </p>
	            <p>
		            <label>开户日期;</label>
								           <input style="width:10%;" class="easyui-datebox" data-options="sharedCalendar:'#cc'" id="realEstablishStartQuery">
								           <input style="width:10%;" class="easyui-datebox" data-options="sharedCalendar:'#cc'" id="realEstablishEndQuery">
		            <label>激活日期;</label>
								           <input style="width:10%;" class="easyui-datebox" data-options="sharedCalendar:'#cc'" id="realActivateStartQuery">
								           <input style="width:10%;" class="easyui-datebox" data-options="sharedCalendar:'#cc'" id="realActivateEndQuery">
		            <label>到期日期;</label>
							               <input style="width:10%;" class="easyui-datebox" data-options="sharedCalendar:'#cc'" id="realWaitDateStartQuery">
								           <input style="width:10%;" class="easyui-datebox" data-options="sharedCalendar:'#cc'" id="realWaitDateEndQuery">
	            </p>
	             <p>
		            <label>卡段;</label>
		                                 <input style="width:10%;" type="text" class="easyui-textbox" id="accessNumStartQuery"/>
		                                 <input style="width:10%;" type="text" class="easyui-textbox" id="accessNumEndQuery"/>
		            <label>ICCID;</label>
		                                 <input style="width:10%;" type="text" class="easyui-textbox" id="iccidStartQuery"/>
		                                 <input style="width:10%;" type="text" class="easyui-textbox" id="iccidEndQuery"/>
		            <label>IMSI;</label> 
		                                 <input style="width:10%;" type="text" class="easyui-textbox" id="imsiStartQuery"/>
		                                 <input style="width:10%;" type="text" class="easyui-textbox" id="imsiEndQuery"/>
		           
		            
	            </p>
	            <p class="findButAlign">
					            <a id="a5" href="javascript:" class="easyui-linkbutton tableFindBut" data-options="iconCls:'icon-search'" onclick="obj.find()">查询</a>
					            <a id="a6" href="javascript:" class="easyui-linkbutton tableFindBut" data-options="iconCls:'icon-redo'" onclick="obj.queryRes()">重置</a>
					            <a id="a4" href="javascript:" class="easyui-linkbutton tableFindBut" data-options="iconCls:'icon-expand'" onclick="obj.expand()">&nbsp;</a>
	            </p>
            </div>
        </div>
        </form>
        <div id="cc" class="easyui-calendar"></div>
        <!--表格列表-->
        <div class="tableCon" data-options="region:'center'">
            <table id="table" class="tableStyle"></table>
            <div id="tabelBut">
                	<div>
                    <a href="#" class="easyui-linkbutton" plain="true"  data-options="iconCls:'icon-redo'" onclick="window.open('<%=basePath%>/csvoprate/export?filename='+'cardManagerInfo'+'&exportType=cardInfoExport', '', 'left=410,height=610, width=860, top=200,  toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no')">导出</a>
                    <a href="#" class="easyui-linkbutton" plain="true"  data-options="iconCls:'icon-back'" onclick="obj.addBox()">发送短信</a>
                    <a href="#" class="easyui-linkbutton" plain="true"  data-options="iconCls:'icon-sum'" onclick="">充值</a>
                    <a href="#" class="easyui-linkbutton" plain="true"  data-options="iconCls:'icon-tip'" onclick="obj.setOwner()">划卡</a>
                    <a href="#" class="easyui-linkbutton" plain="true"  data-options="iconCls:'icon-filter'" onclick="obj.submitType()">数据批量导入</a>
    				</div>
                </div>
            </div>
 
<!--导入前选择运营商-->
<div id="importTypeBox">
      <form id="importTypeForm" method="post">
	     <div class="formDiv"><label>运营商:</label><select  name="operator" id="operator"  style="width:465px" editable="false" class="easyui-combobox" data-options="required:true"></select><span class="formSpan">*</span></div>
	     <div class="formDiv" id="ownerPlaceDiv"><label>二级运营商:</label><select  name="ownerPlace" id="ownerPlace"  style="width:465px" editable="false" class="easyui-combobox"></select><span class="formSpan">*</span></div>
	     <div class="formDiv"><label>套餐:</label><select  name="comboType" id="comboType"  style="width:465px" editable="false" class="easyui-combobox" data-options="required:true"></select><span class="formSpan">*</span></div>
	     <div class="formDiv"><label>沉默期类型:</label><select  name="waitType" id="waitType"  style="width:465px" editable="false" class="easyui-combobox"></select></div>
	     <div class="formDiv"><label>测试期类型:</label><select  name="testType" id="testType"  style="width:465px" editable="false" class="easyui-combobox"></select></div>
	     <div class="formDiv"><label>卡种:</label><select  name="cardType" id="cardType"  style="width:465px" editable="false" class="easyui-combobox"></select></div>
	     <div class="formDiv"><label>规格:</label><select  name="standard" id="standard"  style="width:465px" editable="false" class="easyui-combobox"></select></div>
	     <div class="formDiv"><label>出库价格:</label><input type="text" name="unitCost" id="unitCost" style="width:465px" data-options="required:true"/><span class="formSpan">*</span></div>
	     <div class="forSubmint">
	            <a href="#" class="easyui-linkbutton"  iconCls="icon-ok"  onclick="obj.import1()">确定</a>
	      </div>
      </form>
</div>    	
<!--//导入弹出框-->
<div id="importBox" >
  			<form id="importForm"  action="<%=basePath%>/csvoprate/upload" enctype="multipart/form-data" method="post">
		        	<div class="formDiv">
			            <tr>
			                <td><input type="file" name="name" style="width: 60%;" id="uploadFile" class="easyui-validatebox" data-options="required:true"></td><span class="formSpan">*</span>
			                 <a href="#" class="easyui-linkbutton" style="width: 30%;" iconCls="icon-ok"  onclick="obj.loadModel()">模板下载</a>    
			            </tr>
			        </div>
			        <div class="forSubmint">
			            <tr><td><input value="确认导入" style="width: 30%;left:10%;" class="easyui-linkbutton" id="upFile" onclick="obj.uploadFile()" iconCls="icon-redo" ></td></tr>
		        	</div>
		    </form>
</div>
<!--//新增弹出框-->
<div id="addBox" >
    <form id="addForm" method="post">
        <div class="formDiv"><label>卡号:</label><input style="width:80%;height:160px;" class="easyui-textbox" name="message" data-options="multiline:true"></input></div>
        <div class="formDiv"><label>短信内容:</label><input style="width:80%;height:160px;" class="easyui-textbox" name="message" data-options="multiline:true"></input></div>
        <div class="forSubmint">
            <a href="#" class="easyui-linkbutton"  iconCls="icon-ok"  onclick="obj.sum()">发送短信</a>
            <a href="#" class="easyui-linkbutton"  iconCls="icon-ok"  onclick="obj.sum()">查看短信记录</a>
        </div>
        
        <div>
            <select id="workingConditionYd"  style="display：none" class="easyui-combobox"></select>
            <select id="workingConditionLt"  style="display：none" class="easyui-combobox"></select>
            <select id="workingConditionDx"  style="display：none" class="easyui-combobox"></select>
        </div>
        
    </form>
</div>
<!-- 划卡弹出框 -->
<div id="addOwnerBox" >
    <form id="addOwnerForm" method="post">
        <div class="formDiv"><label>卡号:</label><input style="width:80%;height:160px;" class="easyui-textbox" name="accessNums" id="accessNumsOwner" data-options="multiline:true"></input></div>
        <div class="formDiv"><label>使用卡段:</label><select  name="yesNo" id="yesNoOwner"  style="width:410px" editable="false" class="easyui-combobox" data-options="required:true"></select><span class="formSpan">*</span></div>
        <div class="formDiv"><label>使用群组:</label><select  name="groupYesNo" id="yesNoGroup"  style="width:410px" editable="false" class="easyui-combobox" data-options="required:true"></select><span class="formSpan">*</span></div>
        <div class="formDiv" id="accessNumStartOwner" ><label>卡段开始;</label><input type="text" style="width:410px" id="accessNumStartOwnerId" name="accessNumStart" class="easyui-validatebox"/><span class="formSpan">*</span></div>
		<div class="formDiv" id="accessNumEndOwner"><label>卡段结束;</label><input type="text"  style="width:410px" id="accessNumEndOwnerId" name="accessNumEnd"   class="easyui-validatebox"/><span class="formSpan">*</span></div>
		
		<div class="formDiv" id="comboTypeDiv"><label>套餐类型:</label><select  name="comboType" id="comboTypeOwner"  style="width:410px" editable="false" class="easyui-combobox"></select><span class="formSpan">*</span></div>
        <div class="formDiv" id="comboNameDiv"><label>套餐:</label><select  name="comboName" id="comboName"  style="width:410px" editable="false" class="easyui-combobox"></select><span class="formSpan">*</span></div>
        <div class="formDiv" id="payTypeDiv"><label>支付类型:</label><select  name="payType" id="payType"  style="width:410px" editable="false" class="easyui-combobox"></select><span class="formSpan">*</span></div>
        <div class="formDiv" id="silentTypeDiv"><label>沉默期类型:</label><select  name="silentType" id="silentType"  style="width:410px" editable="false" class="easyui-combobox"></select></div>
        <div class="formDiv" id="haveTestDiv"><label>测试期:</label><select  name="haveTest" id="haveTest"  style="width:410px" editable="false" class="easyui-combobox"></select></div>
        
        <div class="formDiv" id="ownerNameDiv"><label>群组:</label><input type="text"   name="ownerName" id="ownerName" editable="false" class="easyui-validatebox"><span class="formSpan">*</span><a href="#" class="easyui-linkbutton" onclick="openOwner()">选择</a></div>
        <div class="formDiv" hidden="true">
	        <input type="text" hidden="true" id="ownerId"  name="owner">
        </div>
        <div class="forSubmint">
            <a href="#" class="easyui-linkbutton"  iconCls="icon-ok"  onclick="obj.sumOwner()">确定</a>
            <a href="#" class="easyui-linkbutton"  iconCls="icon-cancel"  onclick="obj.canOwner()">取消</a>
        </div>
    </form>
    
    <form id="openOwnerForm" name=form action="<%=request.getContextPath()%>/XuYuRepos/manager/groupChoose.jsp" method="post" target="newOwnerWin">
    </Form>  
</div>
 <script type="text/javascript" src="<%=request.getContextPath()%>/js/jquery-easyui-1.7.0/src/jquery.form.js"></script>
 <script src=cardManager.js></script>


</body>
</html>