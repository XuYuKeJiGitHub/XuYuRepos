package com.xuyurepos.service.intergration.cmp.sign;

import java.util.Map;

import org.apache.log4j.Logger;
import org.springframework.stereotype.Service;

import com.xuyurepos.service.intergration.cmp.util.CMPCore;



@Service
public class CMPSign  {

	Logger logger=Logger.getLogger(CMPSign.class);

	public String sign(Map params) {
		if (logger.isInfoEnabled()) {
			logger.info("CMP-->签名请求数据：" + params);
			
		}
		
		String sign="";
		
		try {
			
			//应用编码，第三方应用唯一标识。由物联卡集团客户向中国移动提出 API 接入申请，中国移动物联网全网管理员在运营管理平台上分配并反馈给集团客户（反馈方式：邮箱），appid 样例：20161031120532123596

			String appid = "";
			//能力编码，同 appid 一起由中国移动反馈给集团客户，ability样例：CMIOT_API3002

			String ability = "";
			
			params.put("appid", appid);
			params.put("ability", ability);
			
		    sign=	CMPCore.buildMysign(params, "UTF-8");

		} catch (Exception ex) {
			ex.printStackTrace();
		}
      return  sign;
	}

}
